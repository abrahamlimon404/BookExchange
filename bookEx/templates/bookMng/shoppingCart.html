{% extends "base.html" %}

{% load static %}

{% block title %}
   Shopping Cart
{% endblock title %}

{% block sidenav %}
  {% for item in item_list %}
    <li>
      <a href="{{item.link}}">{{item.item}}</a>
    </li>
  {% endfor %}
{% endblock sidenav %}

{% block header %}
    <div class="container text-center mt-4">
        <h1>Shopping Cart</h1>
    </div>
{% endblock header %}

{% block content %}
    <div class="container">
        <table class="table table-striped table-borderless" align="center">
            <thead>
                <th>Book Name</th>
                <th>Book Image</th>
                <th>Book Price</th>
                <th></th>
            </thead>
            <tbody>
                {% for book in books %}
                    <tr>
                        <td>{{ book.name }}</td>
                        <td>
                           <img src="{{ book.picture.url }}" height="60" width="60" alt="{{ book.name }} Image" />
                        </td>
                        <td>${{ book.price }}</td>
                        <td>
                            <a href="{% url 'deletefromcart' book.id %}" class="btn btn-danger btn-sm" role="button" aria-pressed="true">
                                <span class="glyphicon glyphicon-trash"></span>
                            </a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>

        <div class="text-right">
            <p>Total Price: ${{ total_price }}</p>
            <a href="{% url 'checkout' %}" class="btn btn-success btn-lg" role="button">Checkout</a>
        </div>

        <div class="text-left mt-3">
            <a href="{% url 'displaybooks' %}" class="btn btn-primary btn-lg" role="button">Display Books</a>
        </div>
    </div>
{% endblock content %}

